{"ast":null,"code":"import _toConsumableArray from\"C:/Users/acer/Desktop/Movie Box/Movies-Box/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"C:/Users/acer/Desktop/Movie Box/Movies-Box/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/acer/Desktop/Movie Box/Movies-Box/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/acer/Desktop/Movie Box/Movies-Box/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/acer/Desktop/Movie Box/Movies-Box/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';// import { movies } from './getMovies'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Favorites=/*#__PURE__*/function(_Component){_inherits(Favorites,_Component);var _super=_createSuper(Favorites);function Favorites(){var _this;_classCallCheck(this,Favorites);_this=_super.call(this);_this.handleGenreChange=function(genre){_this.setState({currgen:genre});};_this.sortPopularityDesc=function(){var temp=_this.state.movies;temp.sort(function(objA,objB){return objB.popularity-objA.popularity;});_this.setState({movies:_toConsumableArray(temp)});};_this.sortPopularityAsc=function(){var temp=_this.state.movies;temp.sort(function(objA,objB){return objA.popularity-objB.popularity;});_this.setState({movies:_toConsumableArray(temp)});};_this.sortRatingDesc=function(){var temp=_this.state.movies;temp.sort(function(objA,objB){return objB.vote_average-objA.vote_average;});_this.setState({movies:_toConsumableArray(temp)});};_this.sortRatingAsc=function(){var temp=_this.state.movies;temp.sort(function(objA,objB){return objA.vote_average-objB.vote_average;});_this.setState({movies:_toConsumableArray(temp)});};_this.handlePageChange=function(page){_this.setState({currPage:page});};_this.handleDelete=function(id){var newarr=[];newarr=_this.state.movies.filter(function(movieObj){return movieObj.id!=id;});_this.setState({movies:_toConsumableArray(newarr)});localStorage.setItem(\"movies-app\",JSON.stringify(newarr));};_this.state={genres:[],currgen:'All Genres',movies:[],currText:'',limit:5,currPage:1};return _this;}_createClass(Favorites,[{key:\"componentDidMount\",value:function componentDidMount(){var genreids={28:'Action',12:'Adventure',16:'Animation',35:'Comedy',80:'Crime',99:'Documentary',18:'Drama',10751:'Family',14:'Fantasy',36:'History',27:'Horror',10402:'Music',9648:'Mystery',10749:'Romance',878:'Sci-Fi',10770:'TV',53:'Thriller',10752:'War',37:'Western'};var data=JSON.parse(localStorage.getItem(\"movie2\")||\"[]\");var temp=[];data.forEach(function(movieObj){if(!temp.includes(genreids[movieObj.genre_ids[0]])){temp.push(genreids[movieObj.genre_ids[0]]);}});temp.unshift('All Genres');this.setState({genres:[].concat(temp),movies:_toConsumableArray(data)});}},{key:\"render\",value:function render(){var _this2=this;var genreids={28:'Action',12:'Adventure',16:'Animation',35:'Comedy',80:'Crime',99:'Documentary',18:'Drama',10751:'Family',14:'Fantasy',36:'History',27:'Horror',10402:'Music',9648:'Mystery',10749:'Romance',878:'Sci-Fi',10770:'TV',53:'Thriller',10752:'War',37:'Western'};var filterarr=[];if(this.state.currText==''){filterarr=this.state.movies;}else{filterarr=this.state.movies.filter(function(movieObj){var title=movieObj.original_title.toLowerCase();return title.includes(_this2.state.currText.toLocaleLowerCase());});}// if(this.state.currgen==='All Genres'){\n//     filterarr=this.state.movies\n// }\nif(this.state.currgen!='All Genres'){filterarr=this.state.movies.filter(function(movieObj){return genreids[movieObj.genre_ids[0]]==_this2.state.currgen;}// let title = movieObj.original_title.toLowerCase();\n// return title.includes(this.state.currText.toLowerCase())\n);}var pages=Math.ceil(filterarr.length/this.state.limit);var pagesarr=[];for(var i=1;i<=pages;i++){pagesarr.push(i);}var si=(this.state.currPage-1)*this.state.limit;var ei=si+Number(this.state.limit);filterarr=filterarr.slice(si,ei);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-sm-12\",children:/*#__PURE__*/_jsx(\"ul\",{class:\"list-group favorites-genres\",children:this.state.genres.map(function(genre){return _this2.state.currgen==genre?/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",style:{background:'#00e6e6',color:'white',fontWeight:'bold'},children:genre}):/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",style:{background:'white',color:'#00e6e6'},onClick:function onClick(){return _this2.handleGenreChange(genre);},children:genre});})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-9 favorites-table col-sm-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-group-text col\",placeholder:\"Search\",value:this.state.currText,onChange:function onChange(e){return _this2.setState({currText:e.target.value});}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"input-group-text col\",placeholder:\"Rows Count\",value:this.state.limit,onChange:function onChange(e){return _this2.setState({limit:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",style:{color:'white'},children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",style:{color:'white'},children:\"Genres\"}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",style:{color:'white'},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-caret-up\",onClick:this.sortPopularityDesc}),\"Popularity\",/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-caret-down\",onClick:this.sortPopularityAsc})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",style:{color:'white'},children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-caret-up\",onClick:this.sortRatingDesc}),\"Rating\",/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-caret-down\",onClick:this.sortRatingAsc})]}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",style:{color:'white'}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filterarr.map(function(movieObj){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{color:'white'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original\".concat(movieObj.backdrop_path),alt:movieObj.title,style:{width:'5rem'}}),\" \",movieObj.original_title]}),/*#__PURE__*/_jsx(\"td\",{style:{color:'white'},children:genreids[movieObj.genre_ids[0]]}),/*#__PURE__*/_jsxs(\"td\",{style:{color:'white'},children:[movieObj.popularity,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{style:{color:'white'},children:[movieObj.vote_average,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",onClick:function onClick(){return _this2.handleDelete(movieObj.id);},children:\"Delete\"})})]});})})]}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"Page navigation example\",children:/*#__PURE__*/_jsx(\"ul\",{class:\"pagination\",children:pagesarr.map(function(page){return/*#__PURE__*/_jsx(\"li\",{class:\"page-item\",children:/*#__PURE__*/_jsx(\"a\",{class:\"page-link\",onClick:function onClick(){return _this2.handlePageChange(page);},children:page})});})})})]})]})]})})})});}}]);return Favorites;}(Component);export{Favorites as default};","map":{"version":3,"sources":["C:/Users/acer/Desktop/Movie Box/Movies-Box/src/Component/Favorites.js"],"names":["React","Component","Favorites","handleGenreChange","genre","setState","currgen","sortPopularityDesc","temp","state","movies","sort","objA","objB","popularity","sortPopularityAsc","sortRatingDesc","vote_average","sortRatingAsc","handlePageChange","page","currPage","handleDelete","id","newarr","filter","movieObj","localStorage","setItem","JSON","stringify","genres","currText","limit","genreids","data","parse","getItem","forEach","includes","genre_ids","push","unshift","filterarr","title","original_title","toLowerCase","toLocaleLowerCase","pages","Math","ceil","length","pagesarr","i","si","ei","Number","slice","map","background","color","fontWeight","e","target","value","backdrop_path","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n// import { movies } from './getMovies'\r\n\r\nexport default class Favorites extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            genres: [],\r\n            currgen: 'All Genres',\r\n            movies: [],\r\n            currText: '',\r\n            limit: 5,\r\n            currPage: 1\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        let genreids = {\r\n            28: 'Action', 12: 'Adventure', 16: 'Animation', 35: 'Comedy', 80: 'Crime', 99: 'Documentary', 18: 'Drama', 10751: 'Family', 14: 'Fantasy', 36: 'History',\r\n            27: 'Horror', 10402: 'Music', 9648: 'Mystery', 10749: 'Romance', 878: 'Sci-Fi', 10770: 'TV', 53: 'Thriller', 10752: 'War', 37: 'Western'\r\n        };\r\n        let data = JSON.parse(localStorage.getItem(\"movie2\") || \"[]\")\r\n        let temp = []\r\n\r\n        data.forEach((movieObj) => {\r\n            if (!temp.includes(genreids[movieObj.genre_ids[0]])) {\r\n                temp.push(genreids[movieObj.genre_ids[0]]);\r\n            }\r\n        })\r\n        temp.unshift('All Genres');\r\n        this.setState({\r\n            genres: [...temp],\r\n            movies: [...data]\r\n        })\r\n    }\r\n    handleGenreChange = (genre) => {\r\n        this.setState({\r\n            currgen: genre\r\n        })\r\n    }\r\n\r\n    sortPopularityDesc = () => {\r\n        let temp = this.state.movies;\r\n        temp.sort(function (objA, objB) {\r\n            return objB.popularity - objA.popularity\r\n        })\r\n        this.setState({\r\n            movies: [...temp]\r\n        })\r\n    }\r\n    sortPopularityAsc = () => {\r\n        let temp = this.state.movies;\r\n        temp.sort(function (objA, objB) {\r\n            return objA.popularity - objB.popularity\r\n        })\r\n        this.setState({\r\n            movies: [...temp]\r\n        })\r\n    }\r\n\r\n    sortRatingDesc = () => {\r\n        let temp = this.state.movies;\r\n        temp.sort(function (objA, objB) {\r\n            return objB.vote_average - objA.vote_average\r\n        })\r\n        this.setState({\r\n            movies: [...temp]\r\n        })\r\n    }\r\n    sortRatingAsc = () => {\r\n        let temp = this.state.movies;\r\n        temp.sort(function (objA, objB) {\r\n            return objA.vote_average - objB.vote_average\r\n        })\r\n        this.setState({\r\n            movies: [...temp]\r\n        })\r\n    }\r\n    handlePageChange = (page) => {\r\n        this.setState({\r\n            currPage: page\r\n        })\r\n    }\r\n    handleDelete = (id) => {\r\n        let newarr = [];\r\n        newarr = this.state.movies.filter((movieObj) => movieObj.id != id)\r\n        this.setState({\r\n            movies: [...newarr]\r\n        })\r\n        localStorage.setItem(\"movies-app\", JSON.stringify(newarr))\r\n    }\r\n    render() {\r\n\r\n        let genreids = {\r\n            28: 'Action', 12: 'Adventure', 16: 'Animation', 35: 'Comedy', 80: 'Crime', 99: 'Documentary', 18: 'Drama', 10751: 'Family', 14: 'Fantasy', 36: 'History',\r\n            27: 'Horror', 10402: 'Music', 9648: 'Mystery', 10749: 'Romance', 878: 'Sci-Fi', 10770: 'TV', 53: 'Thriller', 10752: 'War', 37: 'Western'\r\n        };\r\n        let filterarr = [];\r\n\r\n        if (this.state.currText == '') {\r\n            filterarr = this.state.movies\r\n        }\r\n        else {\r\n            filterarr = this.state.movies.filter((movieObj) => {\r\n                let title = movieObj.original_title.toLowerCase();\r\n                return title.includes(this.state.currText.toLocaleLowerCase())\r\n            })\r\n        }\r\n\r\n\r\n        // if(this.state.currgen==='All Genres'){\r\n        //     filterarr=this.state.movies\r\n        // }\r\n        if (this.state.currgen != 'All Genres') {\r\n            filterarr = this.state.movies.filter((movieObj) =>\r\n                genreids[movieObj.genre_ids[0]] == this.state.currgen\r\n                // let title = movieObj.original_title.toLowerCase();\r\n                // return title.includes(this.state.currText.toLowerCase())\r\n            )\r\n        }\r\n\r\n        let pages = Math.ceil(filterarr.length / this.state.limit);\r\n        let pagesarr = [];\r\n        for (let i = 1; i <= pages; i++) {\r\n            pagesarr.push(i);\r\n        }\r\n        let si = (this.state.currPage - 1) * this.state.limit;\r\n        let ei = si + Number(this.state.limit);\r\n        filterarr = filterarr.slice(si, ei);\r\n\r\n\r\n        return (\r\n            <div>\r\n                <>\r\n                    <div className='main'>\r\n                        <div className='row'>\r\n                            <div className='col-lg-3 col-sm-12'>\r\n                                <ul class=\"list-group favorites-genres\">\r\n                                    {\r\n                                        this.state.genres.map((genre) => (\r\n\r\n                                            this.state.currgen == genre ?\r\n                                                <li class=\"list-group-item\" style={{ background: '#00e6e6', color: 'white', fontWeight: 'bold' }} >{genre}</li> :\r\n\r\n                                                <li class=\"list-group-item\" style={{ background: 'white', color: '#00e6e6' }} onClick={() => this.handleGenreChange(genre)} >{genre}</li>\r\n                                        ))\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n                            <div className='col-lg-9 favorites-table col-sm-12'>\r\n\r\n\r\n                                <div className='row'>\r\n                                    <input type=\"text\" className='input-group-text col' placeholder='Search' value={this.state.currText} onChange={(e) => this.setState({ currText: e.target.value })} />\r\n                                    <input type=\"number\" className=\"input-group-text col\" placeholder=\"Rows Count\" value={this.state.limit} onChange={(e) => this.setState({ limit: e.target.value })} />\r\n                                </div>\r\n                                <div className='row'>\r\n                                    <table class=\"table\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th scope=\"col\" style={{color:'white'}}>Title</th>\r\n                                                <th scope=\"col\" style={{color:'white'}}>Genres</th>\r\n                                                <th scope=\"col\"  style={{color:'white'}}><i class=\"fa-solid fa-caret-up\" onClick={this.sortPopularityDesc}></i>Popularity<i class=\"fa-solid fa-caret-down\" onClick={this.sortPopularityAsc}></i></th>\r\n                                                <th scope=\"col\"  style={{color:'white'}}><i class=\"fa-solid fa-caret-up\" onClick={this.sortRatingDesc}></i>Rating<i class=\"fa-solid fa-caret-down\" onClick={this.sortRatingAsc}></i></th>\r\n                                                <th scope=\"col\"  style={{color:'white'}}></th>\r\n\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {\r\n                                                filterarr.map((movieObj) => (\r\n                                                    <tr>\r\n                                                        <td style={{color:'white'}}><img src={`https://image.tmdb.org/t/p/original${movieObj.backdrop_path}`} alt={movieObj.title} style={{ width: '5rem' }} /> {movieObj.original_title}</td>\r\n\r\n                                                        <td style={{color:'white'}}>{genreids[movieObj.genre_ids[0]]}</td>\r\n                                                        <td style={{color:'white'}}>{movieObj.popularity} </td>\r\n                                                        <td style={{color:'white'}}>{movieObj.vote_average} </td>\r\n                                                        <td><button type=\"button\" class=\"btn btn-danger\" onClick={() => this.handleDelete(movieObj.id)}>Delete</button></td>\r\n                                                        {/* <td style={{color: 'white'}}>{genreids[movieObj.genre_ids[0]]}</td>\r\n                                                    <td style={{color: 'white'}}>{movieObj.popularity}</td>\r\n                                                    <td style={{color: 'white'}}>{movieObj.vote_average}</td>\r\n                                                    <td style={{color: 'white'}}><img src={`https://image.tmdb.org/t/p/original${movieObj.backdrop_path}`} alt={movieObj.title} style={{width:'5rem'}}/> {movieObj.original_title}</td>\r\n                                                    <td><button type=\"button\" class=\"btn btn-danger\" onClick={()=>this.handleDelete(movieObj.id)}>Delete</button></td> */}\r\n                                                    </tr>\r\n                                                ))\r\n                                            }\r\n\r\n                                        </tbody>\r\n\r\n                                    </table>\r\n                                    <nav aria-label=\"Page navigation example\">\r\n                                        <ul class=\"pagination\">\r\n                                            {\r\n                                                pagesarr.map((page) => (\r\n                                                    <li class=\"page-item\"><a class=\"page-link\" onClick={() => this.handlePageChange(page)}>{page}</a></li>\r\n                                                ))\r\n                                            }\r\n\r\n                                        </ul>\r\n                                    </nav>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}